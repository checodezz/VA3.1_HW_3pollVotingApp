<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poll Voting</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
</head>

<body class="container">

    <div class="form-check mb-4">
        <div class="my-3">
            <h1>Poll Voting</h1>
        </div>

        <div class="mb-3">
            <label for="john"> John Doe
                <input class="form-check-input" type="radio" name="candidate" value="John Doe" id="john">
            </label><br>
        </div>

        <div class="mb-3">
            <label for="alex">
                <input class="form-check-input" type="radio" name="candidate" value="Alex William" id="alex">Alex
                William
            </label><br>
        </div>

        <div class="mb-3">
            <label for="prerana">
                <input class="form-check-input" type="radio" name="candidate" value="Prerana Nawar" id="prerana">Prerana
                Nawar
            </label><br>
        </div>
        <button class="btn btn-primary" id="showResultsBtn">Vote</button>

    </div>

    <section class="container my-2">
        <h2>Results:</h2>

        <ul id="johnVotingResult"></ul>
        <ul id="alexVotingResult"></ul>
        <ul id="preranaVotingResult"></ul>

    </section>

    <div class="container my-4">
        <h2>Winner:</h2>
        <ul id="showWinner">
    </div>
    </ul>



    <script>
        // const candidatesRadioBtn = document.getElementsByName('candidate')
        const showResultsBtn = document.getElementById('showResultsBtn')
        const showResult = document.getElementById('showResults')
        const showWinner = document.getElementById('showWinner')
        const johnVotingResult = document.getElementById('johnVotingResult')
        const alexVotingResult = document.getElementById('alexVotingResult')
        const preranaVotingResult = document.getElementById('preranaVotingResult')
        let johnVotes = 0
        let alexVotes = 0
        let preranaVotes = 0


        showResultsBtn.addEventListener('click', function () {

            let selectedCandidateList = ''
            const selectedCandidate = document.querySelector('input[name="candidate"]:checked').value

            if (selectedCandidate === 'John Doe') {

                johnVotingResult.innerHTML =
                    `<li class="list-group-item">${selectedCandidate} : ${++johnVotes}</li>`

            } else if (selectedCandidate === 'Alex William') {

                alexVotingResult.innerHTML =
                    `<li class="list-group-item">${selectedCandidate} : ${++alexVotes}</li>`

            } else {
                preranaVotingResult.innerHTML =
                    `<li class="list-group-item">${selectedCandidate} : ${++preranaVotes}</li>`

            }



            if (johnVotes > alexVotes && johnVotes > preranaVotes) {

                showWinner.textContent = `John Doe is winning with ${johnVotes} votes!`

            } else if (alexVotes > johnVotes && alexVotes > preranaVotes) {

                showWinner.textContent = `Alex William is winning with ${alexVotes} votes!`

            } else if (preranaVotes > johnVotes && preranaVotes > alexVotes) {

                showWinner.textContent = `Prerana Nawar is winning with ${preranaVotes} votes!`

            }

            if (johnVotes === alexVotes && johnVotes > preranaVotes) {
                showWinner.textContent = `It's a tie between John Doe, Alex William!`
            } else if (johnVotes === preranaVotes && johnVotes > alexVotes) {
                showWinner.textContent = `It's a tie between John Doe, Prerana Nawar!`
            } else if (alexVotes === preranaVotes && alexVotes > johnVotes) {
                showWinner.textContent = `It's a tie between Alex William,  Prerana Nawar!`
            }

            if (johnVotes === alexVotes && johnVotes === preranaVotes) {
                showWinner.textContent = `It's a tie between Alex William,  Prerana Nawar as well as John Doe!`
            }
        })
    </script>
</body>

</html>